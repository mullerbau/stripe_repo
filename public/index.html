<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acesso VIP - Landing Page</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ √Årea VIP Exclusiva</h1>
            <p>Acesse conte√∫do premium por apenas R$ 1,00</p>
        </header>

        <main>
            <div class="benefits">
                <h2>O que voc√™ vai ter acesso:</h2>
                <ul>
                    <li>‚úÖ V√≠deo exclusivo no YouTube</li>
                    <li>‚úÖ Conte√∫do premium</li>
                    <li>‚úÖ Acesso imediato ap√≥s pagamento</li>
                </ul>
            </div>

            <div class="pricing">
                <div class="price-card">
                    <h3>Acesso VIP</h3>
                    <div class="price">R$ 1,00</div>
                    <button id="checkout-button">
                        üîí Pagar e Acessar Agora
                    </button>
                </div>
            </div>
        </main>

        <footer>
            <p>Pagamento seguro processado pelo Stripe</p>
        </footer>
    </div>

    <script>
        const stripe = Stripe('pk_test_sua_chave_publica_aqui'); // Substitua pela sua chave p√∫blica

        document.getElementById('checkout-button').addEventListener('click', async () => {
            const button = document.getElementById('checkout-button');
            button.disabled = true;
            button.textContent = 'Processando...';

            try {
                const response = await fetch('/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                });

                const session = await response.json();

                const result = await stripe.redirectToCheckout({
                    sessionId: session.id,
                });

                if (result.error) {
                    alert(result.error.message);
                }
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao processar pagamento');
            } finally {
                button.disabled = false;
                button.textContent = 'üîí Pagar e Acessar Agora';
            }
        });
    </script>
</body>
</html>